{"version":3,"sources":["utils/wouldUrather.jpg","utils/api.js","actions/answers.js","actions/shared.js","actions/users.js","actions/questions.js","auth/Auth.js","components/Login.js","actions/authedUser.js","components/QuestionsList.js","utils/helper.js","components/Home.js","components/UnansweredQuestion.js","components/AnsweredQuestion.js","components/UserScore.js","components/LeaderBoard.js","components/Nav.js","components/Welcome.js","components/NewQuestion.js","components/ErrorPage.js","components/App.js","reducers/index.js","reducers/authedUser.js","reducers/users.js","reducers/questions.js","reducers/answers.js","middleware/logger.js","middleware/index.js","index.js"],"names":["module","exports","api","addAnswer","answer","type","handleInitialData","dispatch","showLoading","Promise","all","fetch","then","res","json","data","users","questions","answers","getUsers","getQuestion","getAnswers","hideLoading","handleAddUser","user","method","headers","body","JSON","stringify","id","email","name","avatarURL","picture","created","_saveUsers","formattedUser","addUser","handleSaveAnswer","token","authedUser","qid","user_id","question_id","_saveQuestionAnswer","handleAddQuestion","question","Math","random","toString","substring","author","optionOne","optionOneText","optionTwo","optionTwoText","_saveQuestion","formattedQuestion","console","log","addQuestion","handleDeleteQuestion","_deleteQuestion","deleteQuestion","handleDeleteAnswerRedux","answerId","deleteAnswer","handleUpdateAnswer","updates","_updateAnswer","handleDeleteUser","userId","userQs","_deleteUser","deleteUser","deleteUserQuestion","LoginButton","loginWithRedirect","useAuth0","Button","block","onClick","LogoutButton","logout","className","variant","Login","this","props","Card","Img","src","wouldUrather","Body","Component","withAuth0","connect","QuestionList","handleClick","e","preventDefault","check","history","push","Header","Container","Row","Col","xs","Image","alt","withRouter","getAnsweredQ","answeredQ","Object","keys","forEach","key","includes","getCreatedQ","createdQ","score","Home","state","activeTab","selectedTab","setState","auth0","Tabs","activeKey","onSelect","k","handleSelect","Tab","eventKey","title","unanswered","map","QuestionsList","answered","hasOwnProperty","hasVoted","UnansweredQuestion","disabled","handleSubmit","localStorage","getItem","handelDelete","handleUpdate","handleChange","persist","target","value","jwt","permissions","prevlocation","location","onSubmit","Form","Group","onChange","style","marginLeft","getID","match","params","AnsweredQuestion","handelUpdate","pathname","userVote","optionOneV","optionTwoV","total","optionOnePer","fround","optionTwoPer","getVotes","ProgressBar","now","UserScore","avatar","userscore","LeaderBoard","userOrdered","sort","a","b","Navs","pathName","Nav","Item","Link","Test","redirect","setTimeout","getAccessTokenSilently","audience","accesstoken","setItem","clearTimeout","isAuthenticated","to","Spinner","animation","NewQuestion","newquestion","Control","placeholder","ErrorPage","App","exact","path","component","Welcome","combineReducers","action","omit","loadingBar","loadingBarReducer","logger","store","next","group","returnValue","getState","groupEnd","applyMiddleware","thunk","persistedState","serializedState","parse","loadFromLocalStorage","createStore","reducer","middleware","subscribe","saveToLocalStorage","ReactDOM","render","domain","clientId","redirectUri","useRefreshTokens","document","getElementById"],"mappings":"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","file":"js/main.b0048baa.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"media/wouldUrather.72f40272.jpg\";","const api = \"http://127.0.0.1:5000\"\r\n\r\nfunction generateUID () {\r\n  return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15)\r\n}\r\n\r\nexport function _getUsers () {\r\n  return fetch(`${api}/users`)\r\n    .then(res => res.json())\r\n    .then(data => data.users)\r\n}\r\n\r\nexport function _getQuestions () {\r\n  return fetch(`${api}/questions`)\r\n    .then(res => res.json())\r\n    .then(data => data.questions)\r\n}\r\n\r\nexport function _getAnswers() {\r\n  return fetch(`${api}/answers`)\r\n    .then(res => res.json())\r\n    .then(data => data.answers)\r\n}\r\n\r\nexport function getInitialData() {\r\n  return Promise.all([\r\n      _getUsers(),\r\n      _getQuestions(),\r\n      _getAnswers(),\r\n  ]).then(([users, questions, answers]) => ({\r\n      users,\r\n      questions,\r\n      answers,\r\n  }))\r\n}\r\n\r\nexport function _saveUsers(user) {\r\n  return fetch(`${api}/users`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      id: user.email,\r\n      name: user.name,\r\n      avatarURL: user.picture,\r\n    })\r\n  }).then(res => res.json())\r\n    .then(data => data.created)\r\n}\r\n\r\nexport function _deleteUser(token, userId) {\r\n  return fetch(`${api}/users/${userId}`, {\r\n    method: 'DELETE',\r\n    headers: {\r\n      'Authorization': `Bearer ${token}`\r\n    }\r\n  })\r\n}\r\n\r\nexport function _saveQuestion (token, question) {\r\n  return fetch(`${api}/questions`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`\r\n    },\r\n    body: JSON.stringify({\r\n      id: generateUID(),\r\n      user_id: question.author,\r\n      optionOne: question.optionOneText,\r\n      optionTwo: question.optionTwoText\r\n    })\r\n  }).then(res => res.json())\r\n    .then(data => data.created)\r\n}\r\n\r\nexport function _saveQuestionAnswer ({ token, authedUser, qid, answer }) {  \r\n  return fetch(`${api}/answers`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`\r\n    },\r\n    body: JSON.stringify({\r\n      answer: answer,\r\n      user_id: authedUser,\r\n      question_id: qid\r\n    })\r\n  }).then(res => res.json())\r\n    .then(data => data.answer)\r\n}\r\n\r\nexport function _deleteQuestion (token, qid) {\r\n  return fetch(`${api}/questions/${qid}`, {\r\n    method: 'DELETE',\r\n    headers: {\r\n      'Authorization': `Bearer ${token}`\r\n    }\r\n  })\r\n}\r\n\r\nexport function _updateAnswer(token, authedUser, qid, answer) {\r\n  return fetch(`${api}/answers/${qid}`, {\r\n    method: 'PATCH',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`\r\n    },\r\n    body: JSON.stringify({\r\n      answer: answer,\r\n      user_id: authedUser,\r\n      question_id: qid\r\n    })\r\n  }).then(res => res.json())\r\n    .then(data => data.updates)\r\n}","export const GET_ANSWERS = 'GET_ANSWERS'\r\nexport const ADD_ANSWER = 'ADD_ANSWER'\r\nexport const DELETE_ANSWER = 'DELETE_ANSWER'\r\n\r\nexport function getAnswers(answers) {\r\n    return {\r\n        type: GET_ANSWERS,\r\n        answers\r\n    }\r\n}\r\n\r\nexport function addAnswer(answer) {\r\n    return {\r\n        type: ADD_ANSWER,\r\n        answer\r\n    }\r\n}\r\n\r\nexport function deleteAnswer(answerId) {\r\n    return {\r\n        type: DELETE_ANSWER,\r\n        answerId\r\n    }\r\n}","import { getInitialData, _saveQuestionAnswer, _saveQuestion, _deleteQuestion, _updateAnswer, _saveUsers, _deleteUser } from \"../utils/api\";\r\nimport { showLoading, hideLoading } from \"react-redux-loading\";\r\nimport { getUsers, addUser, deleteUser } from \"./users\";\r\nimport { getQuestion, addQuestion, deleteQuestion, deleteUserQuestion } from \"./questions\";\r\nimport { getAnswers, addAnswer, deleteAnswer } from \"./answers\";\r\n\r\nexport function handleInitialData() {\r\n    return (dispatch) => {\r\n        dispatch(showLoading())\r\n        return getInitialData()\r\n            .then(({ users, questions, answers }) => {\r\n                dispatch(getUsers(users))\r\n                dispatch(getQuestion(questions))\r\n                dispatch(getAnswers(answers))\r\n                dispatch(hideLoading())\r\n            })\r\n    }\r\n}\r\n\r\nexport function handleAddUser(user) {\r\n    return (dispatch) => {\r\n        dispatch(showLoading())\r\n        return _saveUsers(user)\r\n            .then((formattedUser) => {\r\n                dispatch(addUser(formattedUser))\r\n                dispatch(hideLoading())\r\n            })\r\n    }\r\n}\r\n\r\nexport function handleSaveAnswer(token, authedUser, qid, answer) {\r\n    return (dispatch) => {\r\n        dispatch(showLoading())\r\n        return _saveQuestionAnswer({token, authedUser, qid, answer})\r\n            .then((answer) => {\r\n                dispatch(addAnswer(answer))\r\n                dispatch(hideLoading())\r\n            })\r\n    }\r\n}\r\n\r\nexport function handleAddQuestion(token, question) {    \r\n    return (dispatch) => {\r\n        dispatch(showLoading())\r\n        return _saveQuestion(token, question)\r\n            .then((formattedQuestion) => {\r\n                console.log(\"tetetetettet\", formattedQuestion.id);\r\n                dispatch(addQuestion(formattedQuestion))\r\n                dispatch(hideLoading())\r\n            })\r\n    }\r\n}\r\n\r\nexport function handleDeleteQuestion(token, qid) {\r\n    return (dispatch) => {\r\n        dispatch(showLoading())\r\n        return _deleteQuestion(token, qid)\r\n            .then(() => {\r\n                dispatch(deleteQuestion(qid))\r\n                dispatch(hideLoading())\r\n            })\r\n    }\r\n}\r\n\r\nexport function handleDeleteAnswerRedux(answerId) {\r\n    return (dispatch) => {\r\n        dispatch(showLoading())\r\n        dispatch(deleteAnswer(answerId))\r\n        dispatch(hideLoading())\r\n    }\r\n}\r\n\r\nexport function handleUpdateAnswer(token, authedUser, qid, answer) {\r\n    return (dispatch) => {\r\n        dispatch(showLoading())\r\n        return _updateAnswer(token, authedUser, qid, answer)\r\n            .then((answer) => {\r\n                dispatch(addAnswer(answer))\r\n                dispatch(hideLoading())\r\n            })\r\n    }\r\n}\r\n\r\nexport function handleDeleteUser(token, userId, userQs) {\r\n    return (dispatch) => {\r\n        dispatch(showLoading())\r\n        return _deleteUser(token, userId)\r\n            .then(() => {\r\n                dispatch(deleteUser(userId))\r\n                dispatch(deleteUserQuestion(userQs))\r\n                dispatch(hideLoading())\r\n            })\r\n    }\r\n}","export const GET_USERS = 'GET_USERS'\r\nexport const ADD_USER = 'ADD_USER'\r\n// export const USER_ANSWERED = 'USER_ANSWERED'\r\n// export const USER_ADD_QUESTION = 'USER_ADD_QUESTION'\r\n// export const DELETE_USER_QUESTION = 'DELETE_USER_QUESTION'\r\n// export const DELETE_ANSWER_USER = 'DELETE_ANSWER_USER'\r\nexport const DELETE_USER = \"DELETE_USER\"\r\n\r\nexport function getUsers(users) {\r\n    return {\r\n        type: GET_USERS,\r\n        users,\r\n    }\r\n}\r\n\r\nexport function addUser(user) {\r\n    return {\r\n        type: ADD_USER,\r\n        user\r\n    }\r\n}\r\n\r\n// export function userAnswered(authedUser, qid, answer) {\r\n//     return {\r\n//         type: USER_ANSWERED,\r\n//         authedUser,\r\n//         qid,\r\n//         answer,\r\n//     }\r\n// }\r\n\r\n// export function userAddQuestion(question) {    \r\n//     return {\r\n//         type: USER_ADD_QUESTION,\r\n//         question   \r\n//     }\r\n    \r\n// }\r\n\r\n// export function deleteUserQuestion(author, qid) {\r\n//     return {\r\n//         type: DELETE_USER_QUESTION,\r\n//         author,\r\n//         qid\r\n//     }\r\n// }\r\n\r\n// export function deleteAnswerUser(authedUser, qid) {\r\n//     return {\r\n//         type: DELETE_ANSWER_USER,\r\n//         authedUser,\r\n//         qid\r\n//     }\r\n// }\r\n\r\nexport function deleteUser(userId) {\r\n    return {\r\n        type: DELETE_USER,\r\n        userId,\r\n    }\r\n}","export const GET_QUESTIONS = 'GET_QUESTIONS'\r\n// export const QUESTION_ANSWERED = 'QUESTION_ANSWERED'\r\nexport const ADD_QUESTION = 'ADD_QUESTION'\r\nexport const DELETE_QUESTION = 'DELETE_QUESTION'\r\n// export const DELETE_ANSWER_QUESTION = 'DELETE_ANSWER_QUESTION'\r\nexport const DELETE_USER_QUESTIONS = 'DELETE_USER_QUESTIONS'\r\n\r\nexport function getQuestion(questions) {\r\n    return {\r\n        type: GET_QUESTIONS,\r\n        questions,\r\n    }\r\n}\r\n\r\n// export function questionAnswered(authedUser, qid, answer) {\r\n//     return {\r\n//         type: QUESTION_ANSWERED,\r\n//         authedUser,\r\n//         qid,\r\n//         answer,\r\n//     }\r\n// }\r\n\r\nexport function addQuestion(question) {    \r\n    return {\r\n        type: ADD_QUESTION,\r\n        question\r\n    }\r\n}\r\n\r\nexport function deleteQuestion(qid) {\r\n    return {\r\n        type: DELETE_QUESTION,\r\n        qid\r\n    }\r\n}\r\n\r\n// export function deleteAnswerQuestion(authedUser, qid, answer) {\r\n//     return {\r\n//         type: DELETE_ANSWER_QUESTION,\r\n//         authedUser,\r\n//         qid,\r\n//         answer\r\n//     }\r\n// }\r\n\r\nexport function deleteUserQuestion(userQs) {\r\n    return {\r\n        type: DELETE_USER_QUESTIONS,\r\n        userQs,\r\n    }\r\n}","import React from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\n\r\n\r\nexport function LoginButton() {\r\n    const { loginWithRedirect } = useAuth0();\r\n    return <Button block onClick={() => loginWithRedirect()}>Log In</Button>;\r\n}\r\n\r\nexport function LogoutButton() {\r\n    const { logout } = useAuth0();\r\n    return <Button className='justify-content-end' variant=\"outline-danger\" onClick={() => logout()}>Logout</Button>\r\n}","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport { LoginButton} from \"../auth/Auth\";\r\nimport { withAuth0 } from \"@auth0/auth0-react\";\r\nimport { logoutAuthedUser } from \"../actions/authedUser\";\r\nimport wouldUrather from \"../utils/wouldUrather.jpg\";\r\n\r\nclass Login extends Component {\r\n    componentDidMount() {\r\n        const authedUser = this.props.authedUser\r\n        if (authedUser) {\r\n            this.props.dispatch(logoutAuthedUser(authedUser))\r\n        }\r\n\r\n    }\r\n    render() {\r\n        return( \r\n            <div className='center'>\r\n                <Card>\r\n                    <Card.Img src={wouldUrather} />\r\n                    <Card.Body>\r\n                        <LoginButton/>\r\n                    </Card.Body>\r\n                </Card>    \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps({ users, authedUser }) {\r\n    return {\r\n        users,\r\n        authedUser\r\n    }\r\n}\r\n\r\nexport default withAuth0(connect(mapStateToProps)(Login))","export const SET_AUTHED_USER = 'SET_AUTHED_USER'\r\nexport const LOGOUT_AUTHED_USER = 'LOGOUT_AUTHED_USER'\r\n\r\nexport function setAuthedUser(id) {\r\n    return {\r\n        type: SET_AUTHED_USER,\r\n        id,\r\n    }\r\n}\r\n\r\nexport function logoutAuthedUser() {\r\n    return {\r\n        type: LOGOUT_AUTHED_USER,\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Card, Button, Container, Col, Row, Image } from \"react-bootstrap\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass QuestionList extends Component {\r\n    \r\n    handleClick = (e, id) => {\r\n        e.preventDefault()\r\n\r\n        if (this.props.check === 1) {\r\n            this.props.history.push(`/unansweredQuestion/${id}`)\r\n        } \r\n        else if (this.props.check === 2) {\r\n            this.props.history.push(`/answeredQuestion/${id}`)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { question, author } = this.props\r\n             \r\n        return(\r\n            <Card>\r\n                <Card.Header>{author.name} asks:</Card.Header>\r\n                <Card.Body>\r\n                    <Container>\r\n                        <Row>\r\n                            <Col className='colImg' xs={4}>\r\n                                <Image className='img' src={author.avatarURL} alt='UserAvatar'/>\r\n                                <p>{author.name}</p>\r\n                            </Col>\r\n                            <Col>\r\n                                <p>Would you rather</p>\r\n                                <p>..{question.optionOne}..</p>  \r\n                                <Button block onClick={(e) => this.handleClick(e, question.id)}>View Poll</Button>  \r\n                            </Col>    \r\n                        </Row>    \r\n                    </Container>    \r\n                </Card.Body>                \r\n            </Card>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps({ questions, users }, { id }) {\r\n    const question = questions[id]\r\n    const author = users[question.author]\r\n\r\n    return {\r\n        question,\r\n        author\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps)(QuestionList))","export function hasVoted(answers, id, authedUser) {\r\n    return (answers.hasOwnProperty(`${authedUser},${id}`))\r\n}\r\n\r\nexport function getVotes(question, answers) {\r\n    var optionOneV = 0\r\n    var optionTwoV = 0\r\n    Object.keys(answers).forEach((key) => {\r\n        if (key.includes(question.id)) {\r\n            if (answers[key].answer === \"optionOne\") {\r\n                optionOneV++\r\n            } else {\r\n                optionTwoV++\r\n            }\r\n        }\r\n    })\r\n    \r\n    const total = optionOneV + optionTwoV\r\n    const optionOnePer = Math.fround((optionOneV / total) * 100)\r\n    const optionTwoPer = Math.fround((optionTwoV / total) * 100)\r\n\r\n    return {\r\n        optionOneV,\r\n        optionTwoV,\r\n        total,\r\n        optionOnePer,\r\n        optionTwoPer,\r\n    }\r\n}\r\n\r\nexport function getAnsweredQ(user, answers) {\r\n    var answeredQ = 0\r\n    Object.keys(answers).forEach((key) => {\r\n        if (key.includes(user.id)) {\r\n            answeredQ++\r\n        }\r\n    })\r\n    return answeredQ\r\n}\r\n\r\nexport function getCreatedQ(user, questions) {\r\n    var createdQ = 0\r\n    Object.keys(questions).forEach((key) => {\r\n        if (questions[key].author === user.id) {\r\n            createdQ++\r\n        }\r\n    })\r\n    return createdQ\r\n}\r\n\r\nexport function score(user, questions, answers) {\r\n    const answeredQ = getAnsweredQ(user, answers)\r\n    const createdQ = getCreatedQ(user, questions)\r\n    const score = answeredQ + createdQ\r\n    return score\r\n}\r\n\r\nexport function getAnswer(answers, authedUser, qid) {\r\n    return answers[`${authedUser},${qid}`].answer\r\n}","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Tabs, Tab } from \"react-bootstrap\";\r\nimport QuestionsList from \"./QuestionsList\";\r\nimport { hasVoted } from \"../utils/helper\";\r\nimport { withAuth0, } from \"@auth0/auth0-react\";\r\nimport { setAuthedUser } from \"../actions/authedUser\";\r\n\r\nclass Home extends Component {\r\n    state = {\r\n        activeTab: 'unanswered'\r\n    }\r\n\r\n    handleSelect(selectedTab) {\r\n        this.setState({activeTab: selectedTab})\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const { user } = this.props.auth0\r\n        const authedUser = this.props.authedUser\r\n        if (!authedUser) {\r\n            this.props.dispatch(setAuthedUser(user.email))\r\n        }\r\n    }\r\n\r\n    render() {\r\n        \r\n        return (\r\n            \r\n            <Tabs className='taps' activeKey={this.state.activeTab}\r\n                onSelect={k => this.handleSelect(k)}>\r\n                <Tab eventKey='unanswered' title=\"Unanswered Questions\">\r\n                    {this.props.unanswered.map(id => <QuestionsList key={id} id={id} check={1}/>)}\r\n                </Tab>\r\n                <Tab eventKey='answered' title=\"Answered Questions\">\r\n                    {this.props.answered.map(id => <QuestionsList key={id} id={id} check={2}/>)}\r\n                </Tab>\r\n            </Tabs>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps({ answers, questions, authedUser, users }) {\r\n    const unanswered = []\r\n    const answered = []\r\n    Object.keys(questions)\r\n        .forEach((id) => {\r\n            if (!hasVoted(answers, id, authedUser)) {\r\n                unanswered.push(id)                \r\n            } else {\r\n                answered.push(id)\r\n            }\r\n        })\r\n        \r\n    return {\r\n        authedUser,\r\n        unanswered,\r\n        answered,\r\n        users,\r\n    }\r\n}\r\n\r\nexport default withAuth0(connect(mapStateToProps)(Home))","import React,{ Component } from \"react\";\r\nimport { Card, Button, Form, Container, Row, Col, Image } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport { handleSaveAnswer, handleDeleteQuestion, handleUpdateAnswer } from \"../actions/shared\";\r\nimport jwt from 'jwt-decode'\r\n\r\nclass UnansweredQuestion extends Component {\r\n    state = {\r\n        answer: '',\r\n        disabled: true\r\n    }\r\n\r\n    componentDidMount() {\r\n        const jwt_decoded = jwt(localStorage.getItem('token'))\r\n        if (jwt_decoded.permissions.includes('delete:questions')) {\r\n            this.setState({ disabled: false })\r\n        }\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault()        \r\n\r\n        const token = localStorage.getItem('token')\r\n        const { answer } = this.state\r\n        const { question, authedUser } = this.props\r\n\r\n        this.props.dispatch(handleSaveAnswer(token, authedUser, question.id, answer))\r\n        this.props.history.push(`/answeredQuestion/${question.id}`)\r\n    }\r\n\r\n    handelDelete = (e) => {\r\n        e.preventDefault()\r\n        const qid = this.props.question.id\r\n\r\n        const token = localStorage.getItem('token')\r\n        this.props.dispatch(handleDeleteQuestion(token, qid))\r\n\r\n        this.props.history.push(`/home`)\r\n    }\r\n\r\n    handleUpdate = (e) => {\r\n        e.preventDefault()\r\n        const { answer } = this.state\r\n        const { question, authedUser } = this.props\r\n        const token = localStorage.getItem('token')\r\n\r\n        this.props.dispatch(handleUpdateAnswer(token, authedUser, question.id, answer))\r\n        this.props.history.push(`/answeredQuestion/${question.id}`)\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        e.persist()\r\n        this.setState({\r\n            answer: e.target.value\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const disabled = this.state.disabled\r\n        const { question, author } = this.props\r\n        const prevlocation = this.props.location.state      \r\n\r\n        return (\r\n            <div className='center'>\r\n                <Card>\r\n                    <Card.Header>{author.name} asks:</Card.Header>\r\n                    <Card.Body>\r\n                        <Container>\r\n                            <Row>\r\n                                <Col className='colImg' xs={4}>\r\n                                    <Image className='img' src={author.avatarURL} alt='UserAvatar'/>\r\n                                </Col>\r\n                                <Col>\r\n                                    <form onSubmit={this.handleSubmit}>\r\n                                        <Form.Group>\r\n                                            <input type='radio' name='answer' value='optionOne' onChange={this.handleChange} />\r\n                                            <span style={{marginLeft:5}}>{question.optionOne}</span>\r\n                                        </Form.Group>\r\n                                        <Form.Group>\r\n                                            <input type='radio' name='answer' value='optionTwo' onChange={this.handleChange} />\r\n                                            <span style={{marginLeft:5}}>{question.optionTwo}</span>\r\n                                        </Form.Group>\r\n                                        <Form.Group>\r\n                                            {prevlocation !== `/answeredQuestion/${question.id}` ?\r\n                                                <Button block type='submit'>Submit</Button> : \r\n                                                <Button block variant='warning' type='button' onClick={this.handleUpdate}>Update</Button>\r\n                                            }\r\n                                            <Button block variant='danger' type='button' disabled={disabled} onClick={this.handelDelete}>Delete Question</Button>\r\n                                        </Form.Group>\r\n                                    </form>        \r\n                                </Col>\r\n                            </Row>\r\n                                \r\n                        </Container>\r\n                        \r\n                    </Card.Body>\r\n                </Card>\r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps({users, questions, authedUser}, getID) {\r\n\r\n    const question = questions[getID.match.params.id]\r\n    const author = users[question.author]\r\n    \r\n    \r\n    return {\r\n        question,\r\n        author,\r\n        authedUser,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(UnansweredQuestion)","import React,{ Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Card, ProgressBar, Container, Row, Col, Image, Button } from \"react-bootstrap\";\r\nimport { getVotes } from \"../utils/helper\";\r\nimport { handleDeleteAnswerRedux } from \"../actions/shared\";\r\n\r\nclass AnsweredQuestion extends Component {\r\n    handelUpdate = (e) => {\r\n        e.preventDefault()\r\n        const prevlocation = this.props.location.pathname\r\n        const qid = this.props.question.id\r\n        const authedUser = this.props.authedUser\r\n        const answerId = `${authedUser},${qid}`\r\n        \r\n        this.props.dispatch(handleDeleteAnswerRedux(answerId))\r\n        this.props.history.push(`/unansweredQuestion/${qid}`, prevlocation)\r\n    }\r\n\r\n    render() {\r\n        const { author, question, userVote, answers } = this.props        \r\n        \r\n        const {\r\n            optionOneV,\r\n            optionTwoV,\r\n            total,\r\n            optionOnePer,\r\n            optionTwoPer,\r\n        } = getVotes(question, answers)\r\n\r\n        return (\r\n            <div className='center'>\r\n                <Card>\r\n                    <Card.Header>Asked by {author.name}</Card.Header>\r\n                    <Card.Body>\r\n                        <Container>\r\n                            <Row>\r\n                                <Col className='colImg' xs={4}>\r\n                                    <Image className='img' src={author.avatarURL} alt='UserAvatar'/>\r\n                                </Col>\r\n                                <Col>\r\n                                    <h4>Result:</h4>\r\n                                    <Card>\r\n                                        <p>{question.optionOne}</p>\r\n                                        <ProgressBar className='prog' now={optionOnePer} variant={userVote === 'optionOne' ? ('info') : ('warning')} />\r\n                                        <p>{optionOneV} out of {total}</p>    \r\n                                    </Card>\r\n                                    <Card>\r\n                                        <p>{question.optionTwo}</p>\r\n                                        <ProgressBar className='prog' now={optionTwoPer} variant={userVote === 'optionTwo' ? ('info') : ('warning')} />\r\n                                        <p>{optionTwoV} out of {total}</p> \r\n                                    </Card>\r\n                                    <Button block variant='warning' type='button' onClick={this.handelUpdate}>Change Vote</Button>\r\n                                </Col>\r\n                            </Row>\r\n                        </Container>\r\n                        \r\n                    </Card.Body>\r\n                </Card>    \r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps({users, questions, authedUser, answers}, getID) {\r\n    const question = questions[getID.match.params.id]\r\n    const author = users[question.author]\r\n    const answer = answers[`${authedUser},${question.id}`]\r\n    let userVote\r\n    if (answer) {\r\n        if (answer.answer === 'optionOne') {\r\n            userVote = 'optionOne'\r\n        } else {\r\n            userVote = 'optionTwo'\r\n        }    \r\n    }\r\n        \r\n    return {\r\n        question,\r\n        author,\r\n        authedUser,\r\n        userVote,\r\n        answers\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(AnsweredQuestion)","import React,{ Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Card, Container, Row, Col, Image, Button } from \"react-bootstrap\";\r\nimport { score, getAnsweredQ, getCreatedQ } from \"../utils/helper\";\r\nimport { handleDeleteUser } from \"../actions/shared\";\r\nimport jwt from 'jwt-decode'\r\n\r\nclass UserScore extends Component {\r\n    state = {\r\n        disabled: true\r\n    }\r\n\r\n    componentDidMount() {\r\n        const jwt_decoded = jwt(localStorage.getItem('token'))\r\n        if (jwt_decoded.permissions.includes('delete:users')) {\r\n            this.setState({ disabled: false })\r\n        }\r\n    }\r\n\r\n    handleClick = (e) => {\r\n        e.preventDefault()\r\n        const userId = this.props.user.id\r\n        const questions = this.props.questions\r\n        const userQs = []\r\n        Object.keys(questions).forEach((key) => {if (questions[key].author === userId) {userQs.push(key)}})\r\n        const token = localStorage.getItem('token')\r\n        this.props.dispatch(handleDeleteUser(token, userId, userQs))\r\n    }\r\n\r\n    render() {\r\n        const { name, avatar, answeredQ, createdQ, userscore } = this.props\r\n        const disabled = this.state.disabled\r\n        return (\r\n            <Card>\r\n                <Card.Body>\r\n                    <Container>\r\n                        <Row>\r\n                            <Col className='colImg' xs={3}>\r\n                                <Image className='img' src={avatar} alt='UserAvatar'/>\r\n                                <Button variant='danger' disabled={disabled} onClick={this.handleClick}>Delete User</Button>\r\n                            </Col>\r\n                            <Col className='colImg'>\r\n                                <Row>\r\n                                    <Col className='colScore'><h2>{name}</h2></Col>\r\n                                </Row>\r\n                                <Row>\r\n                                    <Col className='colScore'>Answered questions:</Col>\r\n                                    <Col xs={3}>{answeredQ}</Col>\r\n                                </Row>\r\n                                <Row>\r\n                                    <Col className='colScore'>Created questions:</Col>\r\n                                    <Col xs={3}>{createdQ}</Col>\r\n                                </Row>         \r\n                            </Col>\r\n                            <Col>\r\n                                <Card>\r\n                                    <Card.Header>Score</Card.Header>\r\n                                    <Card.Body>\r\n                                        <div className='divLead'>{userscore}</div>\r\n                                    </Card.Body>\r\n                                </Card>\r\n                            </Col>\r\n                        </Row>\r\n                    </Container>                    \r\n                </Card.Body>\r\n            </Card>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps({ users, authedUser, questions, answers }, {id}) {\r\n    const user = users[id]\r\n    const name = users[id].name\r\n    const avatar = users[id].avatarURL\r\n    const answeredQ = getAnsweredQ(users[id], answers)\r\n    const createdQ = getCreatedQ(users[id], questions)   \r\n    const userscore = score(users[id], questions, answers)\r\n    \r\n    return {\r\n        user,\r\n        name,\r\n        avatar,\r\n        answeredQ,\r\n        createdQ,\r\n        userscore,\r\n        questions\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(UserScore)","import React,{ Component } from \"react\"\r\nimport { connect } from \"react-redux\";\r\nimport { score } from \"../utils/helper\";\r\nimport UserScore from \"./UserScore\";\r\n\r\nclass LeaderBoard extends Component {\r\n    render() {\r\n        const { userOrdered } = this.props\r\n        return (\r\n            <div className='center'>\r\n                { userOrdered.map((id) => <UserScore key={id} id={id} />) }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps({ users, authedUser, questions, answers }) {\r\n    const userList = Object.keys(users)\r\n    \r\n    const userOrdered = userList.sort((a, b) => score(users[b], questions, answers) - score(users[a], questions, answers))\r\n    \r\n\r\n    return {\r\n        userOrdered,\r\n        authedUser\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(LeaderBoard)","import React,{ Component } from \"react\"\r\nimport { withRouter } from \"react-router-dom\"\r\nimport { Nav} from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport { logoutAuthedUser } from \"../actions/authedUser\";\r\nimport { withAuth0 } from \"@auth0/auth0-react\";\r\nimport { LogoutButton } from \"../auth/Auth\";\r\n\r\nclass Navs extends Component {\r\n\r\n    handleSelect = (e) => {        \r\n        this.props.history.push(e)\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        this.props.dispatch(logoutAuthedUser(this.props.authedUser))\r\n    }\r\n\r\n    render() {\r\n        const pathName = this.props.history.location.pathname\r\n        const user = this.props.user\r\n        return (user ?\r\n            <div className='divNav'>\r\n                <Nav activeKey=\"/home\" onSelect={this.handleSelect}>\r\n                    <Nav.Item>\r\n                        <Nav.Link eventKey='/home' className={pathName === '/home' && 'navLink'}>Home</Nav.Link>\r\n                    </Nav.Item>\r\n                    <Nav.Item>\r\n                        <Nav.Link eventKey='/leadreboard' className={pathName === '/leadreboard' && 'navLink'}>Leader Board</Nav.Link>\r\n                    </Nav.Item>\r\n                    <Nav.Item>\r\n                        <Nav.Link eventKey='/newquestion' className={pathName === '/newquestion' && 'navLink'}>New Question</Nav.Link>\r\n                    </Nav.Item>\r\n                    <Nav.Item className='leftNav'>\r\n                        <span>Hello, {user.name}  \r\n                        <img className='imgHeader' src={user.avatarURL} alt='UserAvatar'/>\r\n                        <LogoutButton /> \r\n                        </span>  \r\n                    </Nav.Item>\r\n                </Nav>    \r\n            </div> : null\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps({ users, authedUser }) {\r\n    const user = users[authedUser]\r\n    return {\r\n        authedUser,\r\n        user\r\n    }\r\n}\r\n\r\nexport default withAuth0(withRouter(connect(mapStateToProps)(Navs)))","import React,{ Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { withAuth0 } from \"@auth0/auth0-react\";\r\nimport { handleAddUser } from \"../actions/shared\";\r\nimport { Spinner } from \"react-bootstrap\";\r\n\r\nclass Test extends Component {\r\n    state = {\r\n        redirect: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.id = setTimeout(() => this.setState({ redirect: true }), 3000)\r\n    }\r\n\r\n    async componentWillUnmount() {\r\n        const { user, getAccessTokenSilently } = this.props.auth0\r\n        if (!this.props.users.hasOwnProperty(user.email)) {\r\n            this.props.dispatch(handleAddUser(user))\r\n        }\r\n        const accesstoken = await getAccessTokenSilently({\r\n            audience: `wouldYouRather`,\r\n          });\r\n        localStorage.setItem('token', accesstoken)\r\n        clearTimeout(this.id)\r\n    }\r\n\r\n    render() {\r\n        const { isAuthenticated } = this.props.auth0\r\n        return( isAuthenticated && this.state.redirect ?\r\n            <Redirect to='/home' /> :\r\n            <div>\r\n                <h1>Welcome To</h1>\r\n                <h2>Would You Rather Game</h2>\r\n                <Spinner animation=\"border\" variant=\"primary\" />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps({ users }) {\r\n    return {\r\n        users,\r\n    }\r\n}\r\n\r\nexport default withAuth0(connect(mapStateToProps)(Test))","import React,{ Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Card, Button, Form } from \"react-bootstrap\";\r\nimport { handleAddQuestion } from \"../actions/shared\";\r\n\r\nclass NewQuestion extends Component {\r\n    state = {\r\n        optionOne: '',\r\n        optionTwo: '',\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault()\r\n\r\n        const token = localStorage.getItem('token')\r\n        const { optionOne, optionTwo } = this.state\r\n\r\n        const newquestion = {\r\n            optionOneText: optionOne,\r\n            optionTwoText: optionTwo,\r\n            author: this.props.authedUser\r\n        }\r\n        \r\n        this.props.dispatch(handleAddQuestion(token, newquestion))\r\n        const prevlocation=this.props.location.pathname\r\n        this.props.history.push('/home', prevlocation)\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        e.preventDefault()\r\n\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Card>\r\n                <Card.Header><h3>Create New Question</h3></Card.Header>\r\n                <Card.Body>\r\n                    <p>Complete the question</p>\r\n                    <h4>Would you rather...</h4>\r\n                    <Form onSubmit={this.handleSubmit} >\r\n                        <Form.Group>\r\n                            <Form.Control \r\n                                placeholder='Enter Option One'\r\n                                name='optionOne'\r\n                                value={this.state.optionOne}\r\n                                onChange={this.handleChange}\r\n                            />\r\n                            <p></p>\r\n                            <h6>Or</h6>\r\n                            <p></p>\r\n                            <Form.Control\r\n                                placeholder='Enter Option Two'\r\n                                name='optionTwo'\r\n                                value={this.state.optionTwo}\r\n                                onChange={this.handleChange}\r\n                            />\r\n                            <p></p>\r\n                            <Button block type='submit'>Submit</Button>\r\n                        </Form.Group>\r\n                    </Form>\r\n                </Card.Body>\r\n            </Card>    \r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps({ authedUser }) {\r\n    return {\r\n        authedUser,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(NewQuestion)","import React,{ Component } from \"react\";\r\n\r\nclass ErrorPage extends Component {\r\n    render() {\r\n        return(\r\n            <div>\r\n                <h1>404</h1>\r\n                <p>Sorry the page not found</p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ErrorPage","import React, { Component, Fragment } from 'react'\r\nimport { connect } from \"react-redux\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport LoadingBar from \"react-redux-loading\";\r\nimport { handleInitialData } from \"../actions/shared\";\r\nimport Login from \"./Login\";\r\nimport Home from \"./Home\";\r\nimport UnansweredQuestion from \"./UnansweredQuestion\";\r\nimport AnsweredQuestion from \"./AnsweredQuestion\";\r\nimport LeaderBoard from \"./LeaderBoard\";\r\nimport Nav from \"./Nav\";\r\nimport Welcome from \"./Welcome\";\r\nimport NewQuestion from \"./NewQuestion\";\r\nimport ErrorPage from \"./ErrorPage\";\r\nimport { withAuth0 } from \"@auth0/auth0-react\";\r\n\r\nclass App extends Component {\r\n    componentDidMount() {\r\n        if (localStorage.getItem('state') === null) {\r\n            this.props.dispatch(handleInitialData())\r\n        }\r\n    }\r\n    render() {\r\n        const { authedUser } = this.props\r\n        return(\r\n            <Router>\r\n                <Fragment>\r\n                    <LoadingBar />\r\n                    {authedUser === null ? (null) : <Nav /> }\r\n                    <div className='center'>\r\n                        <Switch>\r\n                            <Route exact path='/' component={Login} />    \r\n                            <Route exact path='/home' component={Home} />\r\n                            <Route exact path='/unansweredQuestion/:id' component={UnansweredQuestion} />\r\n                            <Route exact path='/answeredQuestion/:id' component={AnsweredQuestion} />\r\n                            <Route exact path='/leadreboard' component={LeaderBoard} />\r\n                            <Route exact path='/newquestion' component={NewQuestion} />\r\n                            <Route exact path='/welcome' component={Welcome} />\r\n                            <Route component={ErrorPage} />    \r\n                        </Switch>\r\n                        \r\n                    </div>\r\n                </Fragment>\r\n            </Router>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps({ authedUser }) {\r\n    return {\r\n        authedUser,\r\n    }\r\n}\r\n\r\nexport default withAuth0(connect(mapStateToProps)(App))","import { combineReducers } from \"redux\";\r\nimport { loadingBarReducer } from \"react-redux-loading\";\r\nimport authedUser from \"./authedUser\";\r\nimport users from \"./users\";\r\nimport questions from \"./questions\";\r\nimport answers from \"./answers\";\r\n\r\nexport default combineReducers({\r\n    authedUser,\r\n    users,\r\n    questions,\r\n    answers,\r\n    loadingBar: loadingBarReducer,\r\n})","import { SET_AUTHED_USER, LOGOUT_AUTHED_USER } from \"../actions/authedUser\";\r\n\r\nexport default function authedUser(state = null, action) {\r\n    switch (action.type) {\r\n        case SET_AUTHED_USER:\r\n            return action.id\r\n\r\n        case LOGOUT_AUTHED_USER:\r\n            return null\r\n    \r\n        default:\r\n            return state\r\n    }\r\n}","import { GET_USERS, ADD_USER, DELETE_USER } from \"../actions/users\";\r\nimport { omit } from \"lodash\";\r\n\r\nexport default function users(state = {}, action) {\r\n    switch (action.type) {\r\n        case GET_USERS:\r\n            return {\r\n                ...state,\r\n                ...action.users\r\n            }\r\n\r\n        case ADD_USER :\r\n            return {\r\n                ...state,\r\n                [action.user.id]: action.user\r\n            }\r\n\r\n        case DELETE_USER:\r\n            return omit(state, action.userId)\r\n    \r\n        default:\r\n            return state\r\n    }\r\n}","import { GET_QUESTIONS, ADD_QUESTION, DELETE_QUESTION, DELETE_USER_QUESTIONS } from \"../actions/questions\";\r\nimport { omit } from \"lodash\";\r\n\r\nexport default function questions(state = {}, action) {\r\n    switch (action.type) {\r\n        case GET_QUESTIONS:\r\n            return {\r\n                ...state,\r\n                ...action.questions\r\n            }\r\n\r\n        case ADD_QUESTION:\r\n            return {\r\n                ...state,\r\n                [action.question.id]: action.question\r\n            }\r\n\r\n        case DELETE_QUESTION:            \r\n            return omit(state, action.qid)\r\n\r\n        case DELETE_USER_QUESTIONS:\r\n            return omit(state, action.userQs)\r\n\r\n        default:\r\n            return state\r\n    }\r\n}","import { GET_ANSWERS, ADD_ANSWER, DELETE_ANSWER } from \"../actions/answers\";\r\nimport { omit } from \"lodash\";\r\n\r\nexport default function answers(state = {}, action) {\r\n    switch (action.type) {\r\n        case GET_ANSWERS:\r\n            return {\r\n                ...state,\r\n                ...action.answers\r\n            }\r\n\r\n        case ADD_ANSWER:\r\n            return {\r\n                ...state,\r\n                [action.answer.answerId]: action.answer.answer\r\n            }\r\n\r\n        case DELETE_ANSWER:\r\n            return omit(state, action.answerId)\r\n        \r\n        default:\r\n            return state\r\n    }\r\n}","const logger = (store) => (next) => (action) => {\r\n    console.group(action.type)\r\n        console.log('The action: ', action);\r\n        const returnValue = next(action)        \r\n        console.log('The new state: ', store.getState());\r\n    console.groupEnd()\r\n    return returnValue\r\n}\r\n\r\nexport default logger","import thunk from \"redux-thunk\";\r\nimport logger from \"./logger\";\r\nimport { applyMiddleware } from \"redux\";\r\n\r\nexport default applyMiddleware(\r\n    thunk,\r\n    logger,\r\n)","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport { createStore } from 'redux'\r\nimport { Provider } from 'react-redux'\r\nimport reducer from './reducers'\r\nimport middleware from './middleware'\r\nimport { Auth0Provider } from \"@auth0/auth0-react\";\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\n\r\nfunction saveToLocalStorage(state) {\r\n  try {\r\n    const serializedState = JSON.stringify(state)\r\n    localStorage.setItem('state', serializedState)\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}\r\n\r\nfunction loadFromLocalStorage(params) {\r\n  try {\r\n    const serializedState = localStorage.getItem('state')\r\n    if (serializedState === null) {\r\n      return undefined\r\n    }\r\n    return JSON.parse(serializedState)\r\n  } catch (e) {\r\n    console.log(e);\r\n    return undefined\r\n  }\r\n}\r\n\r\nconst persistedState = loadFromLocalStorage()\r\n\r\nconst store = createStore(reducer, persistedState, middleware)\r\nstore.subscribe(() => saveToLocalStorage(store.getState()))\r\n\r\nReactDOM.render(\r\n  <Auth0Provider\r\n    domain='fsndm.auth0.com'\r\n    clientId='uPJwGSAlJU012RZx6imBVNCDJ30o3ui6'\r\n    redirectUri='http://localhost:3000/welcome'\r\n    audience='wouldYouRather'\r\n    useRefreshTokens='true'\r\n  >\r\n    <Provider store={store}>\r\n        <App />\r\n      </Provider>\r\n  </Auth0Provider>,\r\ndocument.getElementById('root')\r\n)\r\n\r\n"],"sourceRoot":""}